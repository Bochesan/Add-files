{"version":3,"sources":["addFiles.js"],"names":["Files","self","area","button","this","_self","_area","querySelectorAll","_button","_init","ChangeName","name","input","close","_name","_input","_close","prototype","click","length","inputs","value","addRow","document","createElement","className","innerHTML","appendChild","addEventListener","changeName","filename","replace","changeClick","remove","files","i"],"mappings":"cAAC,WAEG,SAASA,EAAMC,EAAMC,EAAMC,GAC1BC,KAAKC,MAAQJ,EACVG,KAAKE,MAAQF,KAAKC,MAAME,iBAAiB,IAAML,GAAM,GACrDE,KAAKI,QAAUJ,KAAKC,MAAME,iBAAiB,IAAMJ,GAAQ,GAEzDC,KAAKK,QAyCT,SAASC,EAAWT,EAAMU,EAAMC,EAAOC,GACnCT,KAAKC,MAAQJ,EACbG,KAAKU,MAAQV,KAAKC,MAAME,iBAAiB,IAAMI,GAAM,GACrDP,KAAKW,OAASX,KAAKC,MAAME,iBAAiB,IAAMK,GAAO,GACvDR,KAAKY,OAASZ,KAAKC,MAAME,iBAAiB,IAAMM,GAAO,GAEvDT,KAAKK,QA5CTT,EAAMiB,UAAUC,MAAQ,WAGpB,GAAId,KAAKE,MAAMC,iBAAiB,SAASY,OAAQ,CAC7C,IAAIC,EAAShB,KAAKE,MAAMC,iBAAiB,SAEpCa,EAAOA,EAAOD,OAAS,GAAGE,MALxBjB,KASEkB,SAHLF,EAAOA,EAAOD,OAAS,GAAGD,aAO9Bd,KAAKkB,UAMbtB,EAAMiB,UAAUK,OAAS,WACrB,IAAIV,EAAQW,SAASC,cAAc,OACnCZ,EAAMa,UAAY,YAClBb,EAAMc,UAAY,4JAGlBtB,KAAKE,MAAMqB,YAAYf,GACvB,IAAIF,EAAWE,EAAO,kBAAmB,mBAAoB,oBAC7DA,EAAML,iBAAiB,qBAAqB,GAAGW,SAGnDlB,EAAMiB,UAAUR,MAAQ,WACpB,IAAIR,EAAOG,KACXA,KAAKI,QAAQoB,iBAAiB,QAAS,WACnC3B,EAAKiB,WAabR,EAAWO,UAAUY,WAAa,WAC9B,IAEIC,EAAW1B,KAAKW,OAAOM,MAAMU,QAAQ,OAAQ,IACjD3B,KAAKU,MAAMY,UAAY,yCAA2CI,EAAW,WAGjFpB,EAAWO,UAAUe,YAAc,WAG/B5B,KAAKW,OAAOG,SAGhBR,EAAWO,UAAUJ,MAAQ,WAGzBT,KAAKC,MAAM4B,UAGfvB,EAAWO,UAAUR,MAAQ,WACzB,IAAIR,EAAOG,KAEXA,KAAKW,OAAOa,iBAAiB,SAAU,WACnC3B,EAAK4B,eAGTzB,KAAKU,MAAMc,iBAAiB,QAAS,WACjC3B,EAAK+B,gBAGT5B,KAAKY,OAAOY,iBAAiB,QAAS,WAClC3B,EAAKY,WAKb,IADA,IAAIqB,EAAQX,SAAShB,iBAAiB,UAC7B4B,EAAI,EAAGA,EAAID,EAAMf,OAAQgB,IAEnB,IAAInC,EADJkC,EAAMC,GACU,cAAe,iBA/FjD","file":"../modules/main.min.js","sourcesContent":[";(function() {\r\n\r\n    function Files(self, area, button) {\r\n    \tthis._self = self;\r\n        this._area = this._self.querySelectorAll('.' + area)[0];\r\n        this._button = this._self.querySelectorAll('.' + button)[0];\r\n\r\n        this._init();\r\n    }\r\n\r\n    Files.prototype.click = function() {\r\n        var self = this;\r\n\r\n        if (this._area.querySelectorAll('input').length) {\r\n            var inputs = this._area.querySelectorAll('input');\r\n\r\n            if (!inputs[inputs.length - 1].value) {\r\n                inputs[inputs.length - 1].click();\r\n            }\r\n            else {\r\n                self.addRow();\r\n            }\r\n        }\r\n        else {\r\n            this.addRow();\r\n        }\r\n\r\n\r\n    }\r\n\r\n    Files.prototype.addRow = function() {\r\n        var input = document.createElement('div');\r\n        input.className = 'file-line';\r\n        input.innerHTML = '<div class=\"file-line__name\">Выберите файл.</div><input type=\"file\" class=\"file-line__input\" style=\"display: none;\"><div class=\"file-line__close\">+</div>';\r\n\r\n\r\n        this._area.appendChild(input);\r\n        new ChangeName(input, 'file-line__name', 'file-line__input', 'file-line__close');\r\n        input.querySelectorAll('.file-line__input')[0].click();\r\n    }\r\n\r\n    Files.prototype._init = function() {\r\n        var self = this;\r\n        this._button.addEventListener('click', function() {\r\n            self.click();\r\n        });\r\n    }\r\n\r\n    function ChangeName(self, name, input, close) {\r\n        this._self = self;\r\n        this._name = this._self.querySelectorAll('.' + name)[0];\r\n        this._input = this._self.querySelectorAll('.' + input)[0];\r\n        this._close = this._self.querySelectorAll('.' + close)[0];\r\n\r\n        this._init();\r\n    }\r\n\r\n    ChangeName.prototype.changeName = function() {\r\n        var self = this;\r\n\r\n        var filename = this._input.value.replace(/.*\\\\/, \"\");\r\n        this._name.innerHTML = 'Имя файла: <span class=\"text-success\">' + filename + '</span>';\r\n    }\r\n\r\n    ChangeName.prototype.changeClick = function() {\r\n        var self = this;\r\n\r\n        this._input.click();\r\n    }\r\n\r\n    ChangeName.prototype.close = function() {\r\n        var self = this;\r\n\r\n        this._self.remove();\r\n    }\r\n\r\n    ChangeName.prototype._init = function() {\r\n        var self = this;\r\n\r\n        this._input.addEventListener('change', function() {\r\n            self.changeName();\r\n        });\r\n\r\n        this._name.addEventListener('click', function() {\r\n            self.changeClick();\r\n        });\r\n\r\n        this._close.addEventListener('click', function() {\r\n            self.close();\r\n        });\r\n    }\r\n\r\n    var files = document.querySelectorAll('.files');\r\n    for (var i = 0; i < files.length; i++) {\r\n        var item = files[i];\r\n        var file = new Files(item, 'files__area', 'files__button');\r\n    }\r\n\r\n})();\r\n"]}